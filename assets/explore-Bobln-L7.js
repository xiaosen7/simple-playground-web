import{r as x,R as Me}from"./index-CBqU2yxZ.js";import{c as it}from"./index-Bl6ORisp.js";import{f as lt,j as at}from"./undomanager-DJF0Esjf.js";import{u as ct,d as Pe}from"./index-YHK1Awif.js";import{E as De,F as ut,g as Ie,a as ge,s as B,u as he,G as dt,_ as K,j as v,b as be,d as xe,H as ye,I as Ee}from"./styled-COiZKFch.js";import{T as pt,g as Oe,u as ft,r as Te}from"./utils-BOTr7NsF.js";import{_ as T}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-BPGUNDjC.js";import{u as mt,a as oe,c as W}from"./TransitionGroupContext-B0DYWRHX.js";import{b as $e,o as It,c as Fe,u as q,r as H}from"./useSlotProps-B9ta8Ox-.js";import{P as Ae}from"./index-D3ylJrlI.js";function gt(e,t=0,n=1){return ut(e,t,n)}function ht(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function je(e){if(e.type)return e;if(e.charAt(0)==="#")return je(ht(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(De(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(De(10,s))}else r=r.split(",");return r=r.map(u=>parseFloat(u)),{type:n,values:r,colorSpace:s}}function bt(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,u)=>u<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function te(e,t){return e=je(e),t=gt(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,bt(e)}function xt(e){return Ie("MuiCollapse",e)}ge("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const yt=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Et=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return xe(r,xt,n)},Tt=B("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>T({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&T({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),wt=B("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>T({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),vt=B("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>T({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Ve=x.forwardRef(function(t,n){const r=he({props:t,name:"MuiCollapse"}),{addEndListener:s,children:u,className:d,collapsedSize:l="0px",component:f,easing:p,in:I,onEnter:o,onEntered:i,onEntering:y,onExit:g,onExited:a,onExiting:h,orientation:m="vertical",style:c,timeout:b=dt.standard,TransitionComponent:C=pt}=r,R=K(r,yt),P=T({},r,{orientation:m,collapsedSize:l}),S=Et(P),Y=$e(),le=mt(),F=x.useRef(null),j=x.useRef(),L=typeof l=="number"?`${l}px`:l,k=m==="horizontal",D=k?"width":"height",N=x.useRef(null),X=oe(n,N),$=E=>M=>{if(E){const A=N.current;M===void 0?E(A):E(A,M)}},z=()=>F.current?F.current[k?"clientWidth":"clientHeight"]:0,O=$((E,M)=>{F.current&&k&&(F.current.style.position="absolute"),E.style[D]=L,o&&o(E,M)}),Z=$((E,M)=>{const A=z();F.current&&k&&(F.current.style.position="");const{duration:U,easing:V}=Oe({style:c,timeout:b,easing:p},{mode:"enter"});if(b==="auto"){const ee=Y.transitions.getAutoHeightDuration(A);E.style.transitionDuration=`${ee}ms`,j.current=ee}else E.style.transitionDuration=typeof U=="string"?U:`${U}ms`;E.style[D]=`${A}px`,E.style.transitionTimingFunction=V,y&&y(E,M)}),ae=$((E,M)=>{E.style[D]="auto",i&&i(E,M)}),J=$(E=>{E.style[D]=`${z()}px`,g&&g(E)}),ce=$(a),ue=$(E=>{const M=z(),{duration:A,easing:U}=Oe({style:c,timeout:b,easing:p},{mode:"exit"});if(b==="auto"){const V=Y.transitions.getAutoHeightDuration(M);E.style.transitionDuration=`${V}ms`,j.current=V}else E.style.transitionDuration=typeof A=="string"?A:`${A}ms`;E.style[D]=L,E.style.transitionTimingFunction=U,h&&h(E)}),de=E=>{b==="auto"&&le.start(j.current||0,E),s&&s(N.current,E)};return v.jsx(C,T({in:I,onEnter:O,onEntered:ae,onEntering:Z,onExit:J,onExited:ce,onExiting:ue,addEndListener:de,nodeRef:N,timeout:b==="auto"?null:b},R,{children:(E,M)=>v.jsx(Tt,T({as:f,className:be(S.root,d,{entered:S.entered,exited:!I&&L==="0px"&&S.hidden}[E]),style:T({[k?"minWidth":"minHeight"]:L},c),ref:X},M,{ownerState:T({},P,{state:E}),children:v.jsx(wt,{ownerState:T({},P,{state:E}),className:S.wrapper,ref:F,children:v.jsx(vt,{ownerState:T({},P,{state:E}),className:S.wrapperInner,children:u})})}))}))});Ve.muiSupportAuto=!0;const Ct=Ve;function Rt(e){return Ie("MuiRichTreeView",e)}ge("MuiRichTreeView",["root"]);const St=(e,t)=>{const n=x.useRef({}),[r,s]=x.useState(()=>{const d={};return e.forEach(l=>{l.models&&Object.entries(l.models).forEach(([f,p])=>{n.current[f]={isControlled:t[f]!==void 0,getDefaultValue:p.getDefaultValue},d[f]=p.getDefaultValue(t)})}),d});return Object.fromEntries(Object.entries(n.current).map(([d,l])=>{const f=t[d]??r[d];return[d,{value:f,setControlledValue:p=>{l.isControlled||s(I=>T({},I,{[d]:p}))}}]}))};class Mt{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,r={}){let s=this.events[t];s||(s={highPriority:new Map,regular:new Map},this.events[t]=s),r.isFirst?s.highPriority.set(n,!0):s.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const s=Array.from(r.highPriority.keys()),u=Array.from(r.regular.keys());for(let d=s.length-1;d>=0;d-=1){const l=s[d];r.highPriority.has(l)&&l.apply(this,n)}for(let d=0;d<u.length;d+=1){const l=u[d];r.regular.has(l)&&l.apply(this,n)}}once(t,n){const r=this;this.on(t,function s(...u){r.removeListener(t,s),n.apply(r,u)})}}const Pt=e=>e.isPropagationStopped!==void 0,_e=()=>{const[e]=x.useState(()=>new Mt),t=x.useCallback((...r)=>{const[s,u,d={}]=r;d.defaultMuiPrevented=!1,!(Pt(d)&&d.isPropagationStopped())&&e.emit(s,u,d)},[e]),n=x.useCallback((r,s)=>(e.on(r,s),()=>{e.removeListener(r,s)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};_e.params={};const Dt=[_e];function Ot(e){const t=x.useRef({});return e?(e.current==null&&(e.current={}),e.current):t.current}const At=e=>{const t=[...Dt,...e.plugins],n=t.reduce((m,c)=>c.getDefaultizedParams?c.getDefaultizedParams(m):m,e),r=St(t,n),u=x.useRef({}).current,d=Ot(e.apiRef),l=x.useRef(null),f=oe(l,e.rootRef),[p,I]=x.useState(()=>{const m={};return t.forEach(c=>{c.getInitialState&&Object.assign(m,c.getInitialState(n))}),m}),o=[],i={publicAPI:d,instance:u,rootRef:l},y=m=>{const c=m({instance:u,params:n,slots:n.slots,slotProps:n.slotProps,state:p,setState:I,rootRef:l,models:r});c.getRootProps&&o.push(c.getRootProps),c.publicAPI&&Object.assign(d,c.publicAPI),c.instance&&Object.assign(u,c.instance),c.contextValue&&Object.assign(i,c.contextValue)};t.forEach(y),i.runItemPlugins=m=>{let c=null,b=null;return t.forEach(C=>{if(!C.itemPlugin)return;const R=C.itemPlugin({props:m,rootRef:c,contentRef:b});R!=null&&R.rootRef&&(c=R.rootRef),R!=null&&R.contentRef&&(b=R.contentRef)}),{contentRef:b,rootRef:c}};const g=t.map(m=>m.wrapItem).filter(m=>!!m);i.wrapItem=({itemId:m,children:c})=>{let b=c;return g.forEach(C=>{b=C({itemId:m,children:b})}),b};const a=t.map(m=>m.wrapRoot).filter(m=>!!m);return i.wrapRoot=({children:m})=>{let c=m;return a.forEach(b=>{c=b({children:c})}),c},{getRootProps:(m={})=>{const c=T({role:"tree"},m,{ref:f});return o.forEach(b=>{Object.assign(c,b(m))}),c},rootRef:f,contextValue:i,instance:u}},Le=x.createContext(null);function kt(e){const{value:t,children:n}=e;return v.jsx(Le.Provider,{value:t,children:t.wrapRoot({children:n})})}const Ne=({params:e})=>{const t=ft(e.id),n=x.useCallback((r,s)=>s??`${t}-${r}`,[t]);return{getRootProps:()=>({id:t}),instance:{getTreeItemIdAttribute:n}}};Ne.params={id:!0};const $t=(e,t,n)=>{e.$$publishEvent(t,n)},Q="__TREE_VIEW_ROOT_PARENT_ID__",Ft=e=>{const t={};return e.forEach((n,r)=>{t[n]=r}),t},ze=({items:e,isItemDisabled:t,getItemLabel:n,getItemId:r})=>{const s={},u={},d={[Q]:[]},l=(p,I)=>{var g,a;const o=r?r(p):p.id;if(o==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(p)].join(`
`));if(s[o]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${o}"`].join(`
`));const i=n?n(p):p.label;if(i==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(p)].join(`
`));s[o]={id:o,label:i,parentId:I,idAttribute:void 0,expandable:!!((g=p.children)!=null&&g.length),disabled:t?t(p):!1},u[o]=p,d[o]=[];const y=I??Q;d[y]||(d[y]=[]),d[y].push(o),(a=p.children)==null||a.forEach(h=>l(h,o))};e.forEach(p=>l(p,null));const f={};return Object.keys(d).forEach(p=>{f[p]=Ft(d[p])}),{itemMetaMap:s,itemMap:u,itemOrderedChildrenIds:d,itemChildrenIndexes:f}},re=({instance:e,params:t,state:n,setState:r})=>{const s=x.useCallback(g=>n.items.itemMetaMap[g],[n.items.itemMetaMap]),u=x.useCallback(g=>n.items.itemMap[g],[n.items.itemMap]),d=x.useCallback(g=>{if(g==null)return!1;let a=e.getItemMeta(g);if(!a)return!1;if(a.disabled)return!0;for(;a.parentId!=null;)if(a=e.getItemMeta(a.parentId),a.disabled)return!0;return!1},[e]),l=x.useCallback(g=>{const a=e.getItemMeta(g).parentId??Q;return n.items.itemChildrenIndexes[a][g]},[e,n.items.itemChildrenIndexes]),f=x.useCallback(g=>n.items.itemOrderedChildrenIds[g??Q]??[],[n.items.itemOrderedChildrenIds]),p=g=>t.disabledItemsFocusable?!0:!e.isItemDisabled(g),I=x.useRef(!1),o=x.useCallback(()=>{I.current=!0},[]),i=x.useCallback(()=>I.current,[]);return x.useEffect(()=>{e.areItemUpdatesPrevented()||r(g=>{const a=ze({items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel});return Object.values(g.items.itemMetaMap).forEach(h=>{a.itemMetaMap[h.id]||$t(e,"removeItem",{id:h.id})}),T({},g,{items:a})})},[e,r,t.items,t.isItemDisabled,t.getItemId,t.getItemLabel]),{publicAPI:{getItem:u},instance:{getItemMeta:s,getItem:u,getItemsToRender:()=>{const g=a=>{const h=n.items.itemMetaMap[a];return{label:h.label,itemId:h.id,id:h.idAttribute,children:n.items.itemOrderedChildrenIds[a].map(g)}};return n.items.itemOrderedChildrenIds[Q].map(g)},getItemIndex:l,getItemOrderedChildrenIds:f,isItemDisabled:d,isItemNavigable:p,preventItemUpdates:o,areItemUpdatesPrevented:i},contextValue:{disabledItemsFocusable:t.disabledItemsFocusable}}};re.getInitialState=e=>({items:ze({items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel})});re.getDefaultizedParams=e=>T({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1});re.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemId:!0};const se=({instance:e,params:t,models:n})=>{const r=x.useMemo(()=>{const I=new Map;return n.expandedItems.value.forEach(o=>{I.set(o,!0)}),I},[n.expandedItems.value]),s=(I,o)=>{var i;(i=t.onExpandedItemsChange)==null||i.call(t,I,o),n.expandedItems.setControlledValue(o)},u=x.useCallback(I=>r.has(I),[r]),d=x.useCallback(I=>{var o;return!!((o=e.getItemMeta(I))!=null&&o.expandable)},[e]),l=W((I,o)=>{const i=e.isItemExpanded(o);e.setItemExpansion(I,o,!i)}),f=W((I,o,i)=>{if(e.isItemExpanded(o)===i)return;let g;i?g=[o].concat(n.expandedItems.value):g=n.expandedItems.value.filter(a=>a!==o),t.onItemExpansionToggle&&t.onItemExpansionToggle(I,o,i),s(I,g)});return{publicAPI:{setItemExpansion:f},instance:{isItemExpanded:u,isItemExpandable:d,setItemExpansion:f,toggleItemExpansion:l,expandAllSiblings:(I,o)=>{const i=e.getItemMeta(o),g=e.getItemOrderedChildrenIds(i.parentId).filter(h=>e.isItemExpandable(h)&&!e.isItemExpanded(h)),a=n.expandedItems.value.concat(g);g.length>0&&(t.onItemExpansionToggle&&g.forEach(h=>{t.onItemExpansionToggle(I,h,!0)}),s(I,a))}}}};se.models={expandedItems:{getDefaultValue:e=>e.defaultExpandedItems}};const jt=[];se.getDefaultizedParams=e=>T({},e,{defaultExpandedItems:e.defaultExpandedItems??jt});se.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0};const Ue=(e,t)=>{let n=t.length-1;for(;n>=0&&!e.isItemNavigable(t[n]);)n-=1;if(n!==-1)return t[n]},Vt=(e,t)=>{const n=e.getItemMeta(t),r=e.getItemOrderedChildrenIds(n.parentId),s=e.getItemIndex(t);if(s===0)return n.parentId;let u=r[s-1],d=Ue(e,e.getItemOrderedChildrenIds(u));for(;e.isItemExpanded(u)&&d!=null;)u=d,d=e.getItemOrderedChildrenIds(u).find(e.isItemNavigable);return u},ne=(e,t)=>{if(e.isItemExpanded(t)){const r=e.getItemOrderedChildrenIds(t).find(e.isItemNavigable);if(r!=null)return r}let n=e.getItemMeta(t);for(;n!=null;){const r=e.getItemOrderedChildrenIds(n.parentId),s=e.getItemIndex(n.id);if(s<r.length-1){let u=s+1;for(;!e.isItemNavigable(r[u])&&u<r.length-1;)u+=1;if(e.isItemNavigable(r[u]))return r[u]}n=e.getItemMeta(n.parentId)}return null},Ke=e=>{let t=null;for(;t==null||e.isItemExpanded(t);){const n=e.getItemOrderedChildrenIds(t),r=Ue(e,n);if(r==null)return t;t=r}return t},G=e=>e.getItemOrderedChildrenIds(null).find(e.isItemNavigable),We=(e,t,n)=>{if(t===n)return[t,n];const r=e.getItemMeta(t),s=e.getItemMeta(n);if(r.parentId===s.id||s.parentId===r.id)return s.parentId===r.id?[r.id,s.id]:[s.id,r.id];const u=[r.id],d=[s.id];let l=r.parentId,f=s.parentId,p=d.indexOf(l)!==-1,I=u.indexOf(f)!==-1,o=!0,i=!0;for(;!I&&!p;)o&&(u.push(l),p=d.indexOf(l)!==-1,o=l!==null,!p&&o&&(l=e.getItemMeta(l).parentId)),i&&!p&&(d.push(f),I=u.indexOf(f)!==-1,i=f!==null,!I&&i&&(f=e.getItemMeta(f).parentId));const y=p?l:f,g=e.getItemOrderedChildrenIds(y),a=u[u.indexOf(y)-1],h=d[d.indexOf(y)-1];return g.indexOf(a)<g.indexOf(h)?[t,n]:[n,t]},_t=(e,t,n)=>{const r=f=>{if(e.isItemExpandable(f)&&e.isItemExpanded(f))return e.getItemOrderedChildrenIds(f)[0];let p=e.getItemMeta(f);for(;p!=null;){const I=e.getItemOrderedChildrenIds(p.parentId),o=e.getItemIndex(p.id);if(o<I.length-1)return I[o+1];p=e.getItemMeta(p.parentId)}throw new Error("Invalid range")},[s,u]=We(e,t,n),d=[s];let l=s;for(;l!==u;)l=r(l),e.isItemDisabled(l)||d.push(l);return d},Lt=e=>{let t=G(e);const n=[];for(;t!=null;)n.push(t),t=ne(e,t);return n},fe=e=>Array.isArray(e)?e:e!=null?[e]:[],me=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},ie=({instance:e,params:t,models:n})=>{const r=x.useRef(null),s=x.useRef({}),u=x.useMemo(()=>{const a=new Map;return Array.isArray(n.selectedItems.value)?n.selectedItems.value.forEach(h=>{a.set(h,!0)}):n.selectedItems.value!=null&&a.set(n.selectedItems.value,!0),a},[n.selectedItems.value]),d=(a,h)=>{if(t.onItemSelectionToggle)if(t.multiSelect){const m=h.filter(b=>!e.isItemSelected(b)),c=n.selectedItems.value.filter(b=>!h.includes(b));m.forEach(b=>{t.onItemSelectionToggle(a,b,!0)}),c.forEach(b=>{t.onItemSelectionToggle(a,b,!1)})}else h!==n.selectedItems.value&&(n.selectedItems.value!=null&&t.onItemSelectionToggle(a,n.selectedItems.value,!1),h!=null&&t.onItemSelectionToggle(a,h,!0));t.onSelectedItemsChange&&t.onSelectedItemsChange(a,h),n.selectedItems.setControlledValue(h)},l=a=>u.has(a),f=(a,h,m=!1)=>{if(t.disableSelection)return;let c;if(m){const b=fe(n.selectedItems.value);e.isItemSelected(h)?c=b.filter(C=>C!==h):c=[h].concat(b)}else c=t.multiSelect?[h]:h;d(a,c),r.current=h,s.current={}},p=(a,[h,m])=>{if(t.disableSelection||!t.multiSelect)return;let c=fe(n.selectedItems.value).slice();Object.keys(s.current).length>0&&(c=c.filter(P=>!s.current[P]));const b=me(c),C=_t(e,h,m),R=C.filter(P=>!b[P]);c=c.concat(R),d(a,c),s.current=me(C)};return{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),instance:{isItemSelected:l,selectItem:f,selectAllNavigableItems:a=>{if(t.disableSelection||!t.multiSelect)return;const h=Lt(e);d(a,h),s.current=me(h)},expandSelectionRange:(a,h)=>{if(r.current!=null){const[m,c]=We(e,h,r.current);p(a,[m,c])}},selectRangeFromStartToItem:(a,h)=>{p(a,[G(e),h])},selectRangeFromItemToEnd:(a,h)=>{p(a,[h,Ke(e)])},selectItemFromArrowNavigation:(a,h,m)=>{if(t.disableSelection||!t.multiSelect)return;let c=fe(n.selectedItems.value).slice();Object.keys(s.current).length===0?(c.push(m),s.current={[h]:!0,[m]:!0}):(s.current[h]||(s.current={}),s.current[m]?(c=c.filter(b=>b!==h),delete s.current[h]):(c.push(m),s.current[m]=!0)),d(a,c)}},contextValue:{selection:{multiSelect:t.multiSelect}}}};ie.models={selectedItems:{getDefaultValue:e=>e.defaultSelectedItems}};const Nt=[];ie.getDefaultizedParams=e=>T({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?Nt:null)});ie.params={disableSelection:!0,multiSelect:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0};const ke=1e3;class zt{constructor(t=ke){this.timeouts=new Map,this.cleanupTimeout=ke,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const s=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,s)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Ut{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}class Kt{}function Wt(e){let t=0;return function(r,s,u){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new Ut:new zt);const[d]=x.useState(new Kt),l=x.useRef(null),f=x.useRef();f.current=u;const p=x.useRef(null);if(!l.current&&f.current){const I=(o,i)=>{var y;i.defaultMuiPrevented||(y=f.current)==null||y.call(f,o,i)};l.current=r.$$subscribeEvent(s,I),t+=1,p.current={cleanupToken:t},e.registry.register(d,()=>{var o;(o=l.current)==null||o.call(l),l.current=null,p.current=null},p.current)}else!f.current&&l.current&&(l.current(),l.current=null,p.current&&(e.registry.unregister(p.current),p.current=null));x.useEffect(()=>{if(!l.current&&f.current){const I=(o,i)=>{var y;i.defaultMuiPrevented||(y=f.current)==null||y.call(f,o,i)};l.current=r.$$subscribeEvent(s,I)}return p.current&&e.registry&&(e.registry.unregister(p.current),p.current=null),()=>{var I;(I=l.current)==null||I.call(l),l.current=null}},[r,s])}}const Bt={registry:null},Ht=Wt(Bt),Be=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?Be(t.shadowRoot):t:null},qt=(e,t)=>{const n=s=>{const u=e.getItemMeta(s);return u&&(u.parentId==null||e.isItemExpanded(u.parentId))};let r;return Array.isArray(t)?r=t.find(n):t!=null&&n(t)&&(r=t),r==null&&(r=G(e)),r},we=({instance:e,params:t,state:n,setState:r,models:s,rootRef:u})=>{const d=qt(e,s.selectedItems.value),l=W(m=>{const c=typeof m=="function"?m(n.focusedItemId):m;n.focusedItemId!==c&&r(b=>T({},b,{focusedItemId:c}))}),f=x.useCallback(()=>!!u.current&&u.current.contains(Be(It(u.current))),[u]),p=x.useCallback(m=>n.focusedItemId===m&&f(),[n.focusedItemId,f]),I=m=>{const c=e.getItemMeta(m);return c&&(c.parentId==null||e.isItemExpanded(c.parentId))},o=(m,c)=>{const b=e.getItemMeta(c),C=document.getElementById(e.getTreeItemIdAttribute(c,b.idAttribute));C&&C.focus(),l(c),t.onItemFocus&&t.onItemFocus(m,c)},i=W((m,c)=>{I(c)&&o(m,c)}),y=W(m=>{let c;Array.isArray(s.selectedItems.value)?c=s.selectedItems.value.find(I):s.selectedItems.value!=null&&I(s.selectedItems.value)&&(c=s.selectedItems.value),c==null&&(c=G(e)),o(m,c)}),g=W(()=>{if(n.focusedItemId==null)return;const m=e.getItemMeta(n.focusedItemId);if(m){const c=document.getElementById(e.getTreeItemIdAttribute(n.focusedItemId,m.idAttribute));c&&c.blur()}l(null)}),a=m=>m===d;Ht(e,"removeItem",({id:m})=>{n.focusedItemId===m&&e.focusDefaultItem(null)});const h=m=>c=>{var b;(b=m.onFocus)==null||b.call(m,c),!c.defaultMuiPrevented&&c.target===c.currentTarget&&e.focusDefaultItem(c)};return{getRootProps:m=>({onFocus:h(m)}),publicAPI:{focusItem:i},instance:{isItemFocused:p,canItemBeTabbed:a,focusItem:i,focusDefaultItem:y,removeFocusedItem:g}}};we.getInitialState=()=>({focusedItemId:null});we.params={onItemFocus:!0};function Gt(e){return!!e&&e.length===1&&!!e.match(/\S/)}const He=({instance:e,params:t,state:n})=>{const s=$e().direction==="rtl",u=x.useRef({}),d=W(o=>{u.current=o(u.current)});x.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const o={},i=y=>{o[y.id]=y.label.substring(0,1).toLowerCase()};Object.values(n.items.itemMetaMap).forEach(i),u.current=o},[n.items.itemMetaMap,t.getItemId,e]);const l=(o,i)=>{const y=i.toLowerCase(),g=c=>{const b=ne(e,c);return b===null?G(e):b};let a=null,h=g(o);const m={};for(;a==null&&!m[h];)u.current[h]===y?a=h:(m[h]=!0,h=g(h));return a},f=o=>!t.disableSelection&&!e.isItemDisabled(o),p=o=>!e.isItemDisabled(o)&&e.isItemExpandable(o);return{instance:{updateFirstCharMap:d,handleItemKeyDown:(o,i)=>{if(o.defaultMuiPrevented||o.altKey||o.currentTarget!==o.target)return;const y=o.ctrlKey||o.metaKey,g=o.key;switch(!0){case(g===" "&&f(i)):{o.preventDefault(),t.multiSelect&&o.shiftKey?e.expandSelectionRange(o,i):t.multiSelect?e.selectItem(o,i,!0):e.selectItem(o,i);break}case g==="Enter":{p(i)?(e.toggleItemExpansion(o,i),o.preventDefault()):f(i)&&(t.multiSelect?(o.preventDefault(),e.selectItem(o,i,!0)):e.isItemSelected(i)||(e.selectItem(o,i),o.preventDefault()));break}case g==="ArrowDown":{const a=ne(e,i);a&&(o.preventDefault(),e.focusItem(o,a),t.multiSelect&&o.shiftKey&&f(a)&&e.selectItemFromArrowNavigation(o,i,a));break}case g==="ArrowUp":{const a=Vt(e,i);a&&(o.preventDefault(),e.focusItem(o,a),t.multiSelect&&o.shiftKey&&f(a)&&e.selectItemFromArrowNavigation(o,i,a));break}case(g==="ArrowRight"&&!s||g==="ArrowLeft"&&s):{if(e.isItemExpanded(i)){const a=ne(e,i);a&&(e.focusItem(o,a),o.preventDefault())}else p(i)&&(e.toggleItemExpansion(o,i),o.preventDefault());break}case(g==="ArrowLeft"&&!s||g==="ArrowRight"&&s):{if(p(i)&&e.isItemExpanded(i))e.toggleItemExpansion(o,i),o.preventDefault();else{const a=e.getItemMeta(i).parentId;a&&(e.focusItem(o,a),o.preventDefault())}break}case g==="Home":{f(i)&&t.multiSelect&&y&&o.shiftKey?e.selectRangeFromStartToItem(o,i):e.focusItem(o,G(e)),o.preventDefault();break}case g==="End":{f(i)&&t.multiSelect&&y&&o.shiftKey?e.selectRangeFromItemToEnd(o,i):e.focusItem(o,Ke(e)),o.preventDefault();break}case g==="*":{e.expandAllSiblings(o,i),o.preventDefault();break}case(g==="a"&&y&&t.multiSelect&&!t.disableSelection):{e.selectAllNavigableItems(o),o.preventDefault();break}case(!y&&!o.shiftKey&&Gt(g)):{const a=l(i,g);a!=null&&(e.focusItem(o,a),o.preventDefault());break}}}}}};He.params={};const qe=({slots:e,slotProps:t})=>({contextValue:{icons:{slots:{collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,endIcon:e.endIcon},slotProps:{collapseIcon:t.collapseIcon,expandIcon:t.expandIcon,endIcon:t.endIcon}}}});qe.params={};const Xt=[Ne,re,se,ie,we,He,qe],ve=()=>{const e=x.useContext(Le);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e};function Jt(e){const{instance:t,selection:{multiSelect:n}}=ve(),r=t.isItemExpandable(e),s=t.isItemExpanded(e),u=t.isItemFocused(e),d=t.isItemSelected(e),l=t.isItemDisabled(e);return{disabled:l,expanded:s,selected:d,focused:u,handleExpansion:o=>{if(!l){u||t.focusItem(o,e);const i=n&&(o.shiftKey||o.ctrlKey||o.metaKey);r&&!(i&&t.isItemExpanded(e))&&t.toggleItemExpansion(o,e)}},handleSelection:o=>{l||(u||t.focusItem(o,e),n&&(o.shiftKey||o.ctrlKey||o.metaKey)?o.shiftKey?t.expandSelectionRange(o,e):t.selectItem(o,e,!0):t.selectItem(o,e))},preventSelection:o=>{(o.shiftKey||o.ctrlKey||o.metaKey||l)&&o.preventDefault()}}}const Qt=["classes","className","displayIcon","expansionIcon","icon","label","itemId","onClick","onMouseDown"],Ge=x.forwardRef(function(t,n){const{classes:r,className:s,displayIcon:u,expansionIcon:d,icon:l,label:f,itemId:p,onClick:I,onMouseDown:o}=t,i=K(t,Qt),{disabled:y,expanded:g,selected:a,focused:h,handleExpansion:m,handleSelection:c,preventSelection:b}=Jt(p),C=l||d||u,R=S=>{b(S),o&&o(S)},P=S=>{m(S),c(S),I&&I(S)};return v.jsxs("div",T({},i,{className:be(s,r.root,g&&r.expanded,a&&r.selected,h&&r.focused,y&&r.disabled),onClick:P,onMouseDown:R,ref:n,children:[v.jsx("div",{className:r.iconContainer,children:C}),v.jsx("div",{className:r.label,children:f})]}))});function Yt(e){return Ie("MuiTreeItem",e)}const _=ge("MuiTreeItem",["root","groupTransition","content","expanded","selected","focused","disabled","iconContainer","label"]),Zt=Fe(v.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"TreeViewExpandIcon"),en=Fe(v.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"TreeViewCollapseIcon");function Xe(e){const{children:t,itemId:n}=e,{wrapItem:r}=ve();return r({children:t,itemId:n})}Xe.propTypes={children:Ae.node,itemId:Ae.string.isRequired};const tn=["children","className","slots","slotProps","ContentComponent","ContentProps","itemId","id","label","onClick","onMouseDown","onFocus","onBlur","onKeyDown"],nn=["ownerState"],on=["ownerState"],rn=["ownerState"],sn=e=>{const{classes:t}=e;return xe({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],groupTransition:["groupTransition"]},Yt,t)},ln=B("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),an=B(Ge,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${_.iconContainer}`]:t.iconContainer},t.label&&{[`& .${_.label}`]:t.label}]})(({theme:e})=>({padding:e.spacing(.5,1),borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${_.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${_.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:te(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:te(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:te(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${_.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:te(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${_.iconContainer}`]:{width:16,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${_.label}`]:T({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1)})),cn=B(Ct,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition})({margin:0,padding:0,paddingLeft:12}),un=x.forwardRef(function(t,n){const{icons:r,runItemPlugins:s,selection:{multiSelect:u},disabledItemsFocusable:d,instance:l}=ve(),f=he({props:t,name:"MuiTreeItem"}),{children:p,className:I,slots:o,slotProps:i,ContentComponent:y=Ge,ContentProps:g,itemId:a,id:h,label:m,onClick:c,onMouseDown:b,onBlur:C,onKeyDown:R}=f,P=K(f,tn),{contentRef:S,rootRef:Y}=s(f),le=oe(n,Y),F=oe(g==null?void 0:g.ref,S),j={expandIcon:(o==null?void 0:o.expandIcon)??r.slots.expandIcon??Zt,collapseIcon:(o==null?void 0:o.collapseIcon)??r.slots.collapseIcon??en,endIcon:(o==null?void 0:o.endIcon)??r.slots.endIcon,icon:o==null?void 0:o.icon,groupTransition:o==null?void 0:o.groupTransition},L=w=>Array.isArray(w)?w.length>0&&w.some(L):!!w,k=L(p),D=l.isItemExpanded(a),N=l.isItemFocused(a),X=l.isItemSelected(a),$=l.isItemDisabled(a),z=T({},f,{expanded:D,focused:N,selected:X,disabled:$}),O=sn(z),Z=j.groupTransition??void 0,ae=q({elementType:Z,ownerState:{},externalSlotProps:i==null?void 0:i.groupTransition,additionalProps:{unmountOnExit:!0,in:D,component:"ul",role:"group"},className:O.groupTransition}),J=D?j.collapseIcon:j.expandIcon,ce=q({elementType:J,ownerState:{},externalSlotProps:w=>D?T({},H(r.slotProps.collapseIcon,w),H(i==null?void 0:i.collapseIcon,w)):T({},H(r.slotProps.expandIcon,w),H(i==null?void 0:i.expandIcon,w))}),ue=K(ce,nn),de=k&&J?v.jsx(J,T({},ue)):null,E=k?void 0:j.endIcon,M=q({elementType:E,ownerState:{},externalSlotProps:w=>k?{}:T({},H(r.slotProps.endIcon,w),H(i==null?void 0:i.endIcon,w))}),A=K(M,on),U=E?v.jsx(E,T({},A)):null,V=j.icon,ee=q({elementType:V,ownerState:{},externalSlotProps:i==null?void 0:i.icon}),Ze=K(ee,rn),et=V?v.jsx(V,T({},Ze)):null;let pe;u?pe=X:X&&(pe=!0);function tt(w){!N&&(!$||d)&&w.currentTarget===w.target&&l.focusItem(w,a)}function nt(w){C==null||C(w),l.removeFocusedItem()}const ot=w=>{R==null||R(w),l.handleItemKeyDown(w,a)},rt=l.getTreeItemIdAttribute(a,h),st=l.canItemBeTabbed(a)?0:-1;return v.jsx(Xe,{itemId:a,children:v.jsxs(ln,T({className:be(O.root,I),role:"treeitem","aria-expanded":k?D:void 0,"aria-selected":pe,"aria-disabled":$||void 0,id:rt,tabIndex:st},P,{ownerState:z,onFocus:tt,onBlur:nt,onKeyDown:ot,ref:le,children:[v.jsx(an,T({as:y,classes:{root:O.content,expanded:O.expanded,selected:O.selected,focused:O.focused,disabled:O.disabled,iconContainer:O.iconContainer,label:O.label},label:m,itemId:a,onClick:c,onMouseDown:b,icon:et,expansionIcon:de,displayIcon:U,ownerState:z},g,{ref:F})),p&&v.jsx(cn,T({as:Z},ae,{children:p}))]}))})}),dn=(e,t="warning")=>{let n=!1;const r=Array.isArray(e)?e.join(`
`):e;return()=>{n||(n=!0,t==="error"?console.error(r):console.warn(r))}},pn=["slots","slotProps","apiRef"],fn=e=>{let{props:{slots:t,slotProps:n,apiRef:r},plugins:s,rootRef:u}=e,d=K(e.props,pn);const l={};s.forEach(I=>{Object.assign(l,I.params)});const f={plugins:s,rootRef:u,slots:t??{},slotProps:n??{},apiRef:r},p={};return Object.keys(d).forEach(I=>{const o=d[I];l[I]?f[I]=o:p[I]=o}),{pluginParams:f,slots:t,slotProps:n,otherProps:p}},mn=e=>{const{classes:t}=e;return xe({root:["root"]},Rt,t)},In=B("ul",{name:"MuiRichTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"});function gn({slots:e,slotProps:t,label:n,id:r,itemId:s,children:u}){const d=(e==null?void 0:e.item)??un,l=q({elementType:d,externalSlotProps:t==null?void 0:t.item,additionalProps:{itemId:s,id:r,label:n},ownerState:{itemId:s,label:n}});return v.jsx(d,T({},l,{children:u}))}dn(["MUI X: The `RichTreeView` component does not support JSX children.","If you want to add items, you need to use the `items` prop","Check the documentation for more details: https://mui.com/x/react-tree-view/rich-tree-view/items/"]);const hn=x.forwardRef(function(t,n){const r=he({props:t,name:"MuiRichTreeView"}),{pluginParams:s,slots:u,slotProps:d,otherProps:l}=fn({props:r,plugins:Xt,rootRef:n}),{getRootProps:f,contextValue:p,instance:I}=At(s),o=mn(r),i=(u==null?void 0:u.root)??In,y=q({elementType:i,externalSlotProps:d==null?void 0:d.root,externalForwardedProps:l,className:o.root,getSlotProps:f,ownerState:r}),g=I.getItemsToRender(),a=({label:h,itemId:m,id:c,children:b})=>v.jsx(gn,{slots:u,slotProps:d,label:h,id:c,itemId:m,children:b==null?void 0:b.map(a)},m);return v.jsx(kt,{value:p,children:v.jsx(i,T({},y,{children:g.map(a)}))})});var Ce={},bn=Ee;Object.defineProperty(Ce,"__esModule",{value:!0});var Je=Ce.default=void 0,xn=bn(Te()),yn=ye();Je=Ce.default=(0,xn.default)((0,yn.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"}),"Folder");var Re={},En=Ee;Object.defineProperty(Re,"__esModule",{value:!0});var Qe=Re.default=void 0,Tn=En(Te()),wn=ye();Qe=Re.default=(0,Tn.default)((0,wn.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"}),"FolderOpen");var Se={},vn=Ee;Object.defineProperty(Se,"__esModule",{value:!0});var Ye=Se.default=void 0,Cn=vn(Te()),Rn=ye();Ye=Se.default=(0,Cn.default)((0,Rn.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-6 10H6v-2h8zm4-4H6v-2h12z"}),"Source");function Sn(e){const{className:t,style:n}=e,r=ct(),s=Pe(r.directoryTreePaths$)??[],u=Pe(r.selectedPath$),d=x.useMemo(()=>Mn(s,l=>r.explore.existsSync(l)&&r.explore.isDirectory(l)),[s]);return Me.createElement("div",{className:it(t,"overflow-auto"),style:n,"aria-label":"explorer"},Me.createElement(hn,{slots:{collapseIcon:Je,expandIcon:Qe,endIcon:Ye},getItemId:l=>l.path,className:"overflow-auto",items:d,onSelectedItemsChange:(l,f)=>{f&&f!==u&&r.selectedPath$.next(f)},getItemLabel:l=>l.name,defaultSelectedItems:r.getEntryPathRelativeCwd(),defaultExpandedItems:[lt(r.getEntryPathRelativeCwd())]}))}function Mn(e,t){const n=r();return s(n,"").children??[];function r(){const u={children:{},name:""};return e.forEach(d=>{d.split("/").filter(f=>f!=="").reduce((f,p,I)=>{const o=f.children[p];if(o)return o;const i={name:p,children:{}};return f.children[p]=i,i},u)}),u}function s(u,d){const{children:l,name:f}=u,p=at(d,f),I={name:f,path:p};return t(p)&&(I.children=Object.keys(l).map(o=>{const i=l[o];return s(i,p)})),I}}Sn.__docgenInfo={description:"",methods:[],displayName:"Explore",props:{className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""}}};export{Sn as E};
