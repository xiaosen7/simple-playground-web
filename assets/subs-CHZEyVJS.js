import{r as c}from"./index-CBqU2yxZ.js";import{_ as F,r as L,c as I,i as O}from"./undomanager-CFNGFqu4.js";function U(t){var e=c.useRef(t);e.current=c.useMemo(function(){return t},[t]);var r=c.useRef();return r.current||(r.current=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return e.current.apply(this,i)}),r.current}var _=function(){var t=F(c.useState({}),2),e=t[1];return c.useCallback(function(){return e({})},[])},p=function(){return L.Date.now()},z="Expected a function",A=Math.max,N=Math.min;function j(t,e,r){var i,a,v,o,u,f,d=0,x=!1,l=!1,b=!0;if(typeof t!="function")throw new TypeError(z);e=I(e)||0,O(r)&&(x=!!r.leading,l="maxWait"in r,v=l?A(I(r.maxWait)||0,e):v,b="trailing"in r?!!r.trailing:b);function T(n){var s=i,m=a;return i=a=void 0,d=n,o=t.apply(m,s),o}function R(n){return d=n,u=setTimeout(g,e),x?T(n):o}function C(n){var s=n-f,m=n-d,k=e-s;return l?N(k,v-m):k}function E(n){var s=n-f,m=n-d;return f===void 0||s>=e||s<0||l&&m>=v}function g(){var n=p();if(E(n))return S(n);u=setTimeout(g,C(n))}function S(n){return u=void 0,b&&i?T(n):(i=a=void 0,o)}function W(){u!==void 0&&clearTimeout(u),d=0,i=f=a=u=void 0}function y(){return u===void 0?o:S(p())}function h(){var n=p(),s=E(n);if(i=arguments,a=this,f=n,s){if(u===void 0)return R(f);if(l)return clearTimeout(u),u=setTimeout(g,e),T(f)}return u===void 0&&(u=setTimeout(g,e)),o}return h.cancel=W,h.flush=y,h}function M(t,e){const r=U(e);c.useEffect(()=>{const i=t.subscribe(r);return()=>i.unsubscribe()},[t])}function X(t){const e=_();M(t,e)}function q(t){const[e,r]=c.useState();return M(t,j(r)),e}export{q as a,U as b,X as c,M as u};
